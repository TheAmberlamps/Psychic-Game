<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Psychic Game</title>
</head>
<body>
   
    <h1>The Psychic Game</h1>

    <div id="game">

        <p>Guess what letter I'm thinking of.</p>

        <p>Wins: <span id="winNum">0</span></p>

        <p>Losses: <span id="lossNum">0</span></p>

        <p>Guesses Left: <span id="guesses">9</span></p>

        <p>Your guesses so far: <span id="guessPrint"></span></p>

    </div>

        <script type=text/javascript>
        
        var alpha = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];

        var compGuess = alpha[Math.floor(Math.random() * alpha.length)];

        // These vars hold the game values

        var wins = 0;

        var losses = 0;

        var guesses = 9;

        // Ok, time to write some vars to push values to the various locations they should be appearing.

        var winsText = document.getElementById("winNum")

        var lossText = document.getElementById("lossNum")

        var guessNum = document.getElementById("guesses")

        var guessText = document.getElementById("guessPrint")

        // And now for the on-click action.

        document.onkeyup = function(event){

            var playerGuess = event.key;

            // So initially compGuess was down here, and I couldn't understand what was going wrong. Of course I eventually realised that it was being reused every time a key was being pressed, contantly changing the computer's guess.

            // var compGuess = alpha[Math.floor(Math.random() * alpha.length)];

            // I think this was malfunctioning earlier because the statement wasn't strict enough, but it may have been because compGuess was getting executed on every keystroke.

            if (playerGuess === compGuess){

                console.log("It's a winner!");

                wins++;

                guesses = 9;

                winsText.textContent = wins;
                
                console.log("Now the win value should increase by 1 and the guesses left and printed guesses should reset.");

                console.log(wins);

            }

            // this shit introduces a new statement for else to sort out. try putting this functionality into a for loop instead, since that should be an absolute statement.

            // if (guesses === 1){

            //     losses++;
            //     guesses = 9;

            //     lossText.textContent = losses;

            //     console.log("loooooooser");

            //     console.log(guesses);

            // }

            else {

                console.log("Incorrect");

                guessText.textContent = event.key;

                guesses--;

                guessNum.textContent = guesses;

                console.log("Now the guesses left should decrease by 1, and the guess should be printed.");

                console.log(guesses);

            }
        }

        </script>

    
    
</body>
</html>